@model IEnumerable<MedicalApp.Models.CT_Users>

@{
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Styles.Render("~/Content/css2")
    ViewBag.Title = "Index";
}


<link href="~/Content/Assets/JQDataTables/datatables.min.css" rel="stylesheet" />

<script src="~/Content/Assets/JQDataTables/datatables.min.js"></script>


<script type="text/javascript">
    $(document).ready(function () {
        $('.alex').DataTable();
    });
</script>
<div style="">


    <div class="row" style="margin-top:20px">
        <div class="col-2">
            @Html.ActionLink("Volver", "Index", "Administration", null, new { @class = "btn btn-outline-primary pull-left", Style = "margion-left:-50px" })
        </div>
        <div class="col-10">

            <h2 style="margin-left:240px">Usuarios cargados</h2>
        </div>
    </div>


    <br />

    <p>
        @Html.ActionLink("Nuevo usuario", "Create")
    </p>
    <table class="table table-hover table-bordered table-condensed alex">
        <thead style="background-color:dodgerblue;color:white">
            <tr>

                <th>
                    @Html.DisplayNameFor(model => model.id)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.UserName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.BornDate)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.LastLogin)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CT_Roles.Role)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.UserName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.BornDate)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.LastLogin)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CT_Roles.Role)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.id }) |
                        @Html.ActionLink("Details", "Details", new { id = item.id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.id })
                    </td>
                </tr>
            }
        </tbody>

    </table>



    <br />
    <br />
</div>







@{
    string Title = "";
    string Body = "";
    string colorTitle = "";
    if (TempData["ShowModal1"] != null)
    {


        colorTitle = "#e57373";
        Title = "Duplicated username";
        Body = "This username already exists, please use a different.";


        <script type='text/javascript'>
            function openModal27() {
                $('#myModal').modal('show');
            }
        </script>

            <script>openModal27();</script>
    }

}

<div class="modal fade" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color:@colorTitle;color:white">
                <h4 class="modal-title">@Title</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                @Body
            </div>

        </div>
    </div>
</div>
@{

    <script type="text/javascript">
        openModal27();
    </script>

}